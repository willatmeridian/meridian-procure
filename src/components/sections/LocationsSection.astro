---
// Helper function to convert city names to URL slugs (city only, no state)
function cityToSlug(cityName) {
  return cityName
    .split(',')[0] // Take only the city part (before the comma)
    .toLowerCase()
    .replace(/\s+/g, '-')  // Replace spaces with dashes
    .replace(/[^\w-]/g, '') // Remove non-alphanumeric characters except dashes
}

// Location data for the first column with slugs
const leftLocations = [
  { name: "Birmingham, AL", slug: cityToSlug("Birmingham, AL") },
  { name: "Phoenix, AZ", slug: cityToSlug("Phoenix, AZ") },
  { name: "Los Angeles, CA", slug: cityToSlug("Los Angeles, CA") },
  { name: "Denver, CO", slug: cityToSlug("Denver, CO") },
  { name: "Miami, FL", slug: cityToSlug("Miami, FL") },
  { name: "Atlanta, GA", slug: cityToSlug("Atlanta, GA") },
  { name: "Chicago, IL", slug: cityToSlug("Chicago, IL") },
  { name: "Indianapolis, IN", slug: cityToSlug("Indianapolis, IN") },
  { name: "Louisville, KY", slug: cityToSlug("Louisville, KY") },
  { name: "Detroit, MI", slug: cityToSlug("Detroit, MI") },
];

// Location data for the second column with slugs
const rightLocations = [
  { name: "Kansas City, MO", slug: cityToSlug("Kansas City, MO") },
  { name: "Charlotte, NC", slug: cityToSlug("Charlotte, NC") },
  { name: "Columbus, OH", slug: cityToSlug("Columbus, OH") },
  { name: "Nashville, TN", slug: cityToSlug("Nashville, TN") },
  { name: "Dallas, TX", slug: cityToSlug("Dallas, TX") },
  { name: "Houston, TX", slug: cityToSlug("Houston, TX") },
  { name: "Salt Lake City, UT", slug: cityToSlug("Salt Lake City, UT") },
  { name: "Norfolk, VA", slug: cityToSlug("Norfolk, VA") },
  { name: "Seattle, WA", slug: cityToSlug("Seattle, WA") },
  { name: "Milwaukee, WI", slug: cityToSlug("Milwaukee, WI") },
];
---

<section class="flex flex-col w-full py-16 relative">
  <div class="flex flex-col items-center gap-4 w-full mb-8">
    <h2 class="font-bold text-gray-900 text-[28.5px] text-center leading-9 font-['Instrument_Sans',Helvetica]">
      Locations
    </h2>
    <p class="max-w-2xl w-full md:w-[672px] [font-family:'Inter',Helvetica] font-normal text-gray-600 text-[16.9px] text-center tracking-[0] leading-7">
      Pallets built near you and ready to be shipped
    </p>
  </div>

  <div class="max-w-screen-xl mx-auto px-4 sm:px-8 lg:px-12 w-full">
    <div class="flex flex-col md:flex-row items-center justify-center gap-8 md:gap-12">
      <!-- Map image -->
      <div class="w-full md:w-1/2">
        <img
          class="w-full h-full object-cover rounded-lg"
          alt="US map showing service locations"
          src="/img/chatgpt-image-jul-17-2025-02-44-50-pm-1.webp"
          loading="lazy"
        />
      </div>

      <!-- Locations list -->
      <div class="w-full md:w-1/2 flex flex-row gap-2 sm:gap-4">
      <!-- Left column of locations -->
      <div class="flex-1">
        <div class="flex flex-col items-center gap-3 sm:gap-5">
          {leftLocations.map((location, index) => (
            <a
              key={`left-location-${index}`}
              href={`/locations/${location.slug}`}
              class="w-full max-w-[140px] sm:max-w-[180px] md:max-w-[218.52px] h-auto bg-[#ffffff] rounded-xl shadow-[0px_0px_0px_1px_#131f5b] hover:bg-[#f4e5c3] border border-gray-300 flex items-center justify-center py-2 px-2 sm:py-3 sm:px-4 transition-colors duration-200 cursor-pointer"
            >
              <span class="[font-family:'Instrument_Sans',Helvetica] font-semibold text-[#131f5b] text-sm sm:text-lg md:text-xl leading-tight sm:leading-[25.6px] tracking-[0] text-center">
                {location.name}
              </span>
            </a>
          ))}
        </div>
      </div>

      <!-- Right column of locations -->
      <div class="flex-1">
        <div class="flex flex-col items-center gap-3 sm:gap-5">
          {rightLocations.map((location, index) => (
            <a
              key={`right-location-${index}`}
              href={`/locations/${location.slug}`}
              class="w-full max-w-[140px] sm:max-w-[180px] md:max-w-[218.52px] h-auto bg-[#ffffff] rounded-xl shadow-[0px_0px_0px_1px_#131f5b] hover:bg-[#f4e5c3] border border-gray-300 flex items-center justify-center py-2 px-2 sm:py-3 sm:px-4 transition-colors duration-200 cursor-pointer"
            >
              <span class="[font-family:'Instrument_Sans',Helvetica] font-semibold text-[#131f5b] text-sm sm:text-lg md:text-xl leading-tight sm:leading-[25.6px] tracking-[0] text-center">
                {location.name}
              </span>
            </a>
          ))}
        </div>
      </div>
    </div>
  </div>
</section>